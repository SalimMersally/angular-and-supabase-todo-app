<div class="flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-6 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full">
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6">
      <div class="text-center flex-shrink-0 mb-6">
        <img src="/favicon.svg" alt="Todo App" class="mx-auto h-16 w-16 mb-2" />
        <h2 class="text-xl font-bold text-gray-900 dark:text-white">Sign in to your account</h2>
        <p class="mt-1 text-sm text-gray-600 dark:text-gray-400">
          Welcome back! Please enter your details
        </p>
      </div>

      @if (errorMessage()) {
      <div class="flex-shrink-0 mb-4">
        <p-message severity="error" [text]="errorMessage()!" class="w-full" />
      </div>
      }

      <form [formGroup]="signInForm" (ngSubmit)="onSubmit()" class="space-y-4">
        <div class="space-y-3">
          <div>
            <label
              for="email"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
            >
              Email Address *
            </label>
            <input
              pInputText
              id="email"
              type="email"
              formControlName="email"
              placeholder="Enter your email"
              class="w-full"
              [class.ng-invalid]="email?.invalid && email?.dirty"
            />
            <div class="h-5 my-1">
              @if (email?.invalid && email?.dirty) {
              <small class="text-red-500">
                @if (email?.errors?.['required']) {
                <span>Email is required</span>
                } @if (email?.errors?.['email']) {
                <span>Please enter a valid email address</span>
                }
              </small>
              }
            </div>
          </div>

          <div>
            <label
              for="password"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
            >
              Password *
            </label>
            <p-password
              formControlName="password"
              placeholder="Enter your password"
              [feedback]="false"
              [toggleMask]="true"
              class="w-full [&_.p-password]:w-full [&_.p-inputtext]:w-full [&_.p-password-toggle]:cursor-pointer"
              [class.ng-invalid]="password?.invalid && password?.dirty"
            />
            <div class="h-4 mt-1">
              @if (password?.invalid && password?.dirty) {
              <small class="text-red-500">
                @if (password?.errors?.['required']) {
                <span>Password is required</span>
                }
              </small>
              }
            </div>
          </div>
        </div>

        <div class="flex justify-end">
          <p-button
            type="submit"
            label="Sign In"
            [loading]="isLoading()"
            [disabled]="signInForm.invalid || isLoading()"
          />
        </div>

        <div class="text-center">
          <p class="text-sm text-gray-600 dark:text-gray-400">
            Don't have an account?
            <button
              type="button"
              (click)="navigateToSignUp()"
              class="font-medium text-emerald-600 hover:text-emerald-500 dark:text-emerald-400 dark:hover:text-emerald-300 ml-1 cursor-pointer"
            >
              Sign up here
            </button>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
